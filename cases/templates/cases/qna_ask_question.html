{% extends 'base.html' %}
{% load static %}
{% block content %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<div class="container qna-ask-wrapper py-5" style="max-width:600px;">
  <h2 class="qna-title mb-4">Ask a Question</h2>

  {% if messages %}
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
      {{ message }}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {% endfor %}
  {% endif %}

  <form method="post" novalidate class="qna-form">
    {% csrf_token %}
    <div class="form-group mb-3">
      <label for="id_subject" class="qna-label">Select Subject</label>
      {{ form.subject }}
    </div>
    <div class="form-group mb-3">
      <label for="id_question_text" class="qna-label">Your Question</label>
      {{ form.question_text }}
    </div>
    <button type="submit" class="btn btn-primary qna-btn">Submit</button>
  </form>
</div>

<script>
document.querySelector('.qna-form').addEventListener('submit', function(e) {
  if (!document.getElementById('id_question_text').value.trim()) {
    e.preventDefault();
    alert('Question text is required!');
  }
});
</script>

<style>
.qna-ask-wrapper { background: #fef6e4; border-radius: 12px; box-shadow: 0 6px 15px rgba(139,115,80,.25); }
.qna-title { font-weight: 700; font-family: 'Montserrat', sans-serif; color: #6b4226; }
.qna-label { font-weight: 600; color: #5a3e1b; }
.qna-select, .qna-textarea { border: 2px solid #dda15e; border-radius: 8px; }
.qna-btn { background-color: #c0862b; border-color: #c0862b; font-weight: 600; }
.qna-btn:hover { background-color: #a46b17; border-color: #a46b17; }
</style>
{% endblock %}
