{% extends "base.html" %}
{% block content %}
<!-- Bootstrap JS (For dropdown) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<div class="container docgen-form-container py-5">
  <div class="card docgen-form-card mx-auto p-4 animated fadeInUp" style="max-width:700px;">
    <h2 class="docgen-form-title mb-3">{{ template.title }} Form</h2>
    <div class="docgen-shortdesc mb-2 text-muted">{{ template.short_description }}</div>
    <form method="post" id="docgen-mainform" class="needs-validation" novalidate>
      {% csrf_token %}
      {% for field in fields %}
        <div class="mb-3">
          <label for="{{ field.name }}" class="form-label docgen-form-label">{{ field.label }}</label>
          <input type="{{ field.type|default:"text" }}" class="form-control docgen-form-input" id="{{ field.name }}" name="{{ field.name }}" required>
          <div class="invalid-feedback">This field is required.</div>
        </div>
      {% endfor %}
      <button type="submit" class="btn btn-warning btn-lg mt-2 docgen-btn">Generate Document</button>
    </form>
  </div>
</div>
<script>
document.getElementById('docgen-mainform').addEventListener('submit', function(e){
  var valid = true;
  this.querySelectorAll('input').forEach(function(el){
    if(!el.value.trim()){el.classList.add('is-invalid');valid=false;}else{el.classList.remove('is-invalid');}
  });
  if(!valid){e.preventDefault();}
});
</script>
<style>
.docgen-form-container { background:#fff8ed; border-radius:16px; }
.docgen-form-card { background: #fff6ea; border-radius:14px; box-shadow:0 6px 32px #ffbea470;}
.docgen-form-title { color:#be7b2c;font-family:'Montserrat',sans-serif;font-weight:700; }
.docgen-shortdesc { font-size:1em;color:#925c0a; }
.docgen-form-label { font-weight:600;color:#a56217;}
.docgen-btn {background:linear-gradient(90deg,#fbc16d,#f59b29);color:#623906;border:none;}
</style>
{% endblock %}
